<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#0055FF" />
    <meta name="description" content="Signet Protocol: Verifiable Proof of Reasoning (VPR). Cryptographic attestation for AI models aligned with C2PA 2.3." />
    
    <!-- PWA & Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Signet">
    
    <!-- PWA Manifest (Absolute Path) -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Favicon Strategy: Multi-Layer Fallback -->
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAAeElEQVRYhe3WMQqDQBSE4f986S186S186S1SuAiKiIVrs00hF0h8bAJZ16TMrElW984cAAAAAElFTkSuQmCC" sizes="any">
    <link rel="icon" type="image/png" href="/192.png">
    <link rel="apple-touch-icon" href="/192.png">
    
    <title>Signet AI | Technical Specification & VPR Standard</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
      :root {
        /* C2PA Industrial Palette (Standard Light) */
        --bg-standard: #FFFFFF;
        --bg-sidebar: #F8F9FA;
        --text-header: #000000;
        --text-body: #222222;
        --trust-blue: #0055FF;
        --border-light: #E1E4E8;
        --admonition-bg: rgba(0, 85, 255, 0.03);
        --code-bg: #F6F8FA;
        --table-header: #F8F9FA;
      }

      [data-theme='midnight'] {
        /* Obsidian High-Contrast Palette */
        --bg-standard: #000000;
        --bg-sidebar: #050505;
        --text-header: #FFFFFF;
        --text-body: #E5E7EB;
        --trust-blue: #3B82F6;
        --border-light: #222222;
        --admonition-bg: rgba(59, 130, 246, 0.1);
        --code-bg: #0A0A0A;
        --table-header: #0D0D0D;
      }

      html { scroll-behavior: smooth; }
      body {
        background-color: var(--bg-standard);
        color: var(--text-body);
        font-family: 'Inter', -apple-system, sans-serif;
        line-height: 1.6;
        transition: background-color 0.2s ease, color 0.2s ease;
      }

      h1, h2, h3, h4, h5 {
        color: var(--text-header);
        font-weight: 700;
        letter-spacing: -0.02em;
      }

      .font-mono { font-family: 'JetBrains Mono', monospace; }
      
      .content-column {
        max-width: 900px;
        margin: 0 auto;
        padding: 4rem 2rem;
      }

      .sidebar-link {
        color: var(--text-body);
        font-size: 0.875rem;
        padding: 0.6rem 1rem;
        display: block;
        border-left: 2px solid transparent;
        transition: all 0.2s;
      }
      .sidebar-link:hover {
        background-color: rgba(255, 255, 255, 0.05);
        color: var(--trust-blue);
      }
      .sidebar-link.active {
        color: var(--trust-blue);
        border-left-color: var(--trust-blue);
        background-color: var(--admonition-bg);
        font-weight: 600;
      }

      .admonition {
        border-left: 4px solid var(--trust-blue);
        background-color: var(--admonition-bg);
        padding: 1.5rem;
        margin: 2rem 0;
      }

      .hr-chapter {
        border: 0;
        border-top: 1px solid var(--border-light);
        margin: 4rem 0;
      }

      .cr-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        border: 1.5px solid currentColor;
        font-weight: 800;
        font-size: 10px;
        text-transform: lowercase;
      }

      /* High-contrast table styles */
      table { width: 100%; border-collapse: collapse; }
      th { background-color: var(--table-header); color: var(--text-header); font-weight: 700; border-bottom: 2px solid var(--border-light); }
      td { border-bottom: 1px solid var(--border-light); }
      
      pre { border: 1px solid var(--border-light); border-radius: 4px; background-color: var(--code-bg); color: var(--text-body); }
      code { color: inherit; }

      /* Assistant Prose Styles */
      .prose-signet { font-size: 14px; line-height: 1.5; }
      .prose-signet p { margin-bottom: 0.75rem; }
      .prose-signet p:last-child { margin-bottom: 0; }
      .prose-signet ul, .prose-signet ol { margin-bottom: 0.75rem; padding-left: 1.25rem; }
      .prose-signet li { margin-bottom: 0.25rem; list-style-type: disc; }
      .prose-signet strong { font-weight: 700; color: var(--text-header); }
      .prose-signet code { font-family: 'JetBrains Mono', monospace; font-size: 12px; background: rgba(0,0,0,0.05); padding: 2px 4px; border-radius: 3px; }
      [data-theme='midnight'] .prose-signet code { background: rgba(255,255,255,0.1); }
    </style>
  <script type="importmap">
{
  "imports": {
    "firebase/": "https://esm.sh/firebase@^12.9.0/",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "@google/genai": "https://esm.sh/@google/genai@^1.41.0",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.4",
    "vite": "https://esm.sh/vite@^7.3.1",
    "react/": "https://esm.sh/react@^19.2.4/",
    "react": "https://esm.sh/react@^19.2.4",
    "react-markdown": "https://esm.sh/react-markdown@^10.1.0",
    "jspdf": "https://esm.sh/jspdf@^4.1.0"
  }
}
</script>
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          if (!window.location.protocol.startsWith('http')) {
             console.warn('Signet SW: Skipping registration (invalid protocol).');
             return;
          }
          try {
            const currentPath = window.location.pathname;
            const basePath = currentPath.substring(0, currentPath.lastIndexOf('/') + 1);
            const swUrl = window.location.protocol + '//' + window.location.host + basePath + 'sw.js';
            
            console.log('Signet SW: Registering at', swUrl);

            navigator.serviceWorker.register(swUrl, { scope: basePath })
              .then(reg => console.log('SW registered!', reg))
              .catch(err => console.error('SW failed!', err));
          } catch (e) {
            console.error('Signet SW: Construction Error', e);
          }
        });
      }
    </script>
  </body>
</html>